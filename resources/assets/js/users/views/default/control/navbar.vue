<template>
    <div class="navbar-content">
        <div class="nav-phone hidden-md-up">
            <nav class="navbar navbar-sm" v-if="
                  $route.name === 'profile' ||
                   $route.name === 'security' ||
                   $route.name === 'payment-update' ||
                   $route.name === 'billing-details' ||
                   $route.name === 'change-plan' ||
                   $route.name === 'language' ||
                   $route.name === 'adjust-subtitles' ||
                   $route.name === 'viewing-history' ||
                   $route.name === 'support-inbox' ||
                   $route.name === 'support-request'
                       ? false : true">

                <div class="section2 d-flex justify-content-between">
                    <div class="d-flex justify-content-start">
                       <div class="phone_nav-icon_container" @click="showPhoneNav()">
                            <div class="bar1"></div>
                            <div class="bar2"></div>
                            <div class="bar3"></div>
                        </div>
                        <img src="/images/r2h_white.png" class="ml-3" alt="logo"  style="width: 65px; height: 40px;"> 
                    </div>
                    <div class="d-flex justify-content-end">
                        <div class="col-3 float-left settings-sm-icon mr-3" v-if="$auth.isAuthenticated() === 'active' ">
                            <div class="icon" @click="show_sidebar = !show_sidebar">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 268.765 268.765"  class="sm-search-svg"
                                    style="enable-background:new 0 0 268.765 268.765;" xml:space="preserve" width="100%">
                                    <g>
                                        <g>
                                            <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M267.92,119.461c-0.425-3.778-4.83-6.617-8.639-6.617    c-12.315,0-23.243-7.231-27.826-18.414c-4.682-11.454-1.663-24.812,7.515-33.231c2.889-2.641,3.24-7.062,0.817-10.133    c-6.303-8.004-13.467-15.234-21.289-21.5c-3.063-2.458-7.557-2.116-10.213,0.825c-8.01,8.871-22.398,12.168-33.516,7.529    c-11.57-4.867-18.866-16.591-18.152-29.176c0.235-3.953-2.654-7.39-6.595-7.849c-10.038-1.161-20.164-1.197-30.232-0.08    c-3.896,0.43-6.785,3.786-6.654,7.689c0.438,12.461-6.946,23.98-18.401,28.672c-10.985,4.487-25.272,1.218-33.266-7.574    c-2.642-2.896-7.063-3.252-10.141-0.853c-8.054,6.319-15.379,13.555-21.74,21.493c-2.481,3.086-2.116,7.559,0.802,10.214    c9.353,8.47,12.373,21.944,7.514,33.53c-4.639,11.046-16.109,18.165-29.24,18.165c-4.261-0.137-7.296,2.723-7.762,6.597    c-1.182,10.096-1.196,20.383-0.058,30.561c0.422,3.794,4.961,6.608,8.812,6.608c11.702-0.299,22.937,6.946,27.65,18.415    c4.698,11.454,1.678,24.804-7.514,33.23c-2.875,2.641-3.24,7.055-0.817,10.126c6.244,7.953,13.409,15.19,21.259,21.508    c3.079,2.481,7.559,2.131,10.228-0.81c8.04-8.893,22.427-12.184,33.501-7.536c11.599,4.852,18.895,16.575,18.181,29.167    c-0.233,3.955,2.67,7.398,6.595,7.85c5.135,0.599,10.301,0.898,15.481,0.898c4.917,0,9.835-0.27,14.752-0.817    c3.897-0.43,6.784-3.786,6.653-7.696c-0.451-12.454,6.946-23.973,18.386-28.657c11.059-4.517,25.286-1.211,33.281,7.572    c2.657,2.89,7.047,3.239,10.142,0.848c8.039-6.304,15.349-13.534,21.74-21.494c2.48-3.079,2.13-7.559-0.803-10.213    c-9.353-8.47-12.388-21.946-7.529-33.524c4.568-10.899,15.612-18.217,27.491-18.217l1.662,0.043    c3.853,0.313,7.398-2.655,7.865-6.588C269.044,139.917,269.058,129.639,267.92,119.461z M134.595,179.491    c-24.718,0-44.824-20.106-44.824-44.824c0-24.717,20.106-44.824,44.824-44.824c24.717,0,44.823,20.107,44.823,44.824    C179.418,159.385,159.312,179.491,134.595,179.491z"
                                                fill="#FFFFFF" />
                                        </g>
                                    </g>
                                </svg>
                            </div>
                        </div>
                        <div class="col-3 mt-2 mr-2 search" style=""  @click="SHOW_SEARCH_PAGE">
                            <div class="search-icon" v-if="!showSearchPageEvent">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                viewBox="0 0 56.966 56.966" style="enable-background:new 0 0 56.966 56.966;" xml:space="preserve"
                                width="100%" class="sm-search-svg">
                                    <path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"
                                        fill="#FFFFFF" />
                                </svg>
                            </div>

                            <div class="search-icon" v-if="showSearchPageEvent">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 22.135 22.135" style="enable-background:new 0 0 22.135 22.135;" xml:space="preserve" width="100%" class="sm-search-svg">
                                    <g>
                                        <g>
                                            <path d="M0,18.723L14.879,3.089c0,0,1.949-2.114,6.341-1.597c0,0,0.753,0.599,0.915,1.755L7.179,19.24    c0,0-1.236,1.558-6.461,1.438C0.717,20.678,0.2,20.438,0,18.723z" fill="#FFFFFF"/>
                                            <path d="M0,3.412l14.879,15.634c0,0,1.949,2.114,6.341,1.597c0,0,0.753-0.598,0.915-1.758L7.179,2.891    c0,0-1.236-1.556-6.461-1.436C0.717,1.456,0.2,1.696,0,3.412z" fill="#FFFFFF"/>
                                        </g>
                                    </g>
                                </svg>
                            </div>
                        </div>
                    </div>
                    

                </div>
            </nav>
            <div class="phone_nav-cont" v-if="phone_nav">
                <div class="sidebar">
                    <div class="phone_nav-elem_container">
                        <ul class="list-unstyled">
                            <li class="nav-item">
                                <router-link class="nav-link" :to="{name: 'discover'}">{{$t('home.home')}}</router-link>
                            </li>
                            <li class="nav-item">
                                <router-link class="nav-link " :to="{name: 'movies'}">{{$t('home.movies')}}</router-link>
                            </li>
                            <li class="nav-item">
                                <router-link class="nav-link" :to="{name: 'series'}">{{$t('home.series')}}</router-link>
                            </li>
                            <li class="nav-item">
                                <router-link class="nav-link" :to="{name: 'kids'}">{{$t('home.kids')}}</router-link>
                            </li>
                            <li class="nav-item">
                                <router-link class="nav-link " :to="{name: 'channels'}">{{$t('home.tv')}} </router-link>
                            </li>
                            <!--<li class="nav-item"> -->
                                <!--<a href="http://xaansa.com" class="nav-link ">{{$t('home.media')}}</a>-->
                            <!--</li>-->
                            <hr>
                            <li class="nav-item" v-if="$auth.isAuthenticated() !== 'active'">
                                <router-link class="login nav-link" :to="{name: 'login'}">{{$t('register.login')}}</router-link>
                            </li>
                            <li class="nav-item" v-if="$auth.isAuthenticated() !== 'active'">
                                <router-link class="singup nav-link" :to="{name: 'plan'}" v-if="!$Helper.getIntGatewayStatus('int_gateway')">{{$t('register.signup')}}</router-link>
                                <router-link class="singup nav-link" :to="{name: 'signup-non-payment'}" v-if="$Helper.getIntGatewayStatus('int_gateway')">{{$t('register.signup')}}</router-link>
                            </li>
                            <li class="nav-item" v-if="$auth.isAuthenticated() === 'active'">
                                <router-link class="usernam nav-link" :to="{name: 'profile'}">
                                {{$auth.getUserInfo("username") | truncate(5)}}
                            </router-link>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-3 sidebar-content sidebar-sm" v-if="show_sidebar && $auth.isAuthenticated() === 'active' ">
                <div class="sidebar">
                    <div class="sidebar__log">
                    </div>

                    <div class="sidebar__list">
                        <ul class="list-unstyled text-center">

                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1">

                                <router-link :to="{name: 'profile'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 258.75 258.75"
                                            style="enable-background:new 0 0 258.75 258.75;" xml:space="preserve" width="60%">
                                            <g>
                                                <circle cx="129.375" cy="60" r="60" fill="#FFFFFF" />
                                                <path d="M129.375,150c-60.061,0-108.75,48.689-108.75,108.75h217.5C238.125,198.689,189.436,150,129.375,150z" fill="#FFFFFF"
                                                />
                                            </g>
                                        </svg>

                                    </div>
                                </router-link>

                            </li>

                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1">

                                <router-link :to="{name: 'security'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 58 58"
                                            style="enable-background:new 0 0 58 58;" xml:space="preserve" width="60%">
                                            <path d="M40,21.314V10.22C40,4.585,35.065,0,29,0S18,4.585,18,10.22v11.094C12.584,24.896,9,31.034,9,38c0,11.028,8.972,20,20,20  s20-8.972,20-20C49,31.034,45.416,24.896,40,21.314z M20,20.157V10.22C20,5.688,24.037,2,29,2s9,3.688,9,8.22v9.938  c-0.188-0.095-0.38-0.179-0.57-0.268c-0.393-0.184-0.792-0.356-1.198-0.515c-0.261-0.102-0.523-0.198-0.787-0.289  c-0.26-0.089-0.518-0.178-0.782-0.256c-0.437-0.13-0.879-0.241-1.324-0.341c-0.193-0.043-0.387-0.084-0.582-0.122  c-0.523-0.101-1.049-0.183-1.579-0.242c-0.12-0.013-0.24-0.021-0.36-0.032C30.213,18.036,29.608,18,29,18s-1.213,0.036-1.816,0.092  c-0.12,0.011-0.241,0.019-0.36,0.032c-0.53,0.059-1.056,0.141-1.579,0.242c-0.195,0.037-0.389,0.079-0.582,0.122  c-0.445,0.1-0.887,0.211-1.324,0.341c-0.264,0.078-0.523,0.168-0.782,0.256c-0.264,0.091-0.527,0.187-0.787,0.289  c-0.407,0.158-0.805,0.331-1.198,0.515C20.38,19.978,20.188,20.062,20,20.157z M33,40c0,2.206-1.794,4-4,4s-4-1.794-4-4v-6  c0-2.206,1.794-4,4-4s4,1.794,4,4V40z"
                                                fill="#FFFFFF" />
                                        </svg>

                                    </div>
                                </router-link>

                            </li>

                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1" v-if="!$Helper.getIntGatewayStatus('int_gateway')">

                                <router-link :to="{name: 'payment-update'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="60%"
                                            viewBox="0 0 548.176 548.176" style="enable-background:new 0 0 548.176 548.176;"
                                            xml:space="preserve">
                                            <g>
                                                <g>
                                                    <path d="M534.754,68.238c-8.945-8.945-19.698-13.417-32.258-13.417H45.681c-12.562,0-23.313,4.471-32.264,13.417    C4.471,77.185,0,87.936,0,100.499v347.173c0,12.566,4.471,23.318,13.417,32.264c8.951,8.946,19.702,13.419,32.264,13.419h456.815    c12.56,0,23.312-4.473,32.258-13.419c8.945-8.945,13.422-19.697,13.422-32.264V100.499    C548.176,87.936,543.699,77.185,534.754,68.238z M511.627,447.679c0,2.478-0.903,4.613-2.711,6.427    c-1.807,1.8-3.949,2.703-6.42,2.703H45.681c-2.473,0-4.615-0.903-6.423-2.71c-1.807-1.813-2.712-3.949-2.712-6.427V274.088    h475.082V447.679z M511.627,164.449H36.545v-63.954c0-2.474,0.902-4.611,2.712-6.423c1.809-1.803,3.951-2.708,6.423-2.708h456.815    c2.471,0,4.613,0.901,6.42,2.708c1.808,1.812,2.711,3.949,2.711,6.423V164.449L511.627,164.449z"
                                                        fill="#FFFFFF" />
                                                    <rect x="73.092" y="383.719" width="73.089" height="36.548" fill="#FFFFFF" />
                                                    <rect x="182.728" y="383.719" width="109.634" height="36.548" fill="#FFFFFF" />
                                                </g>
                                            </g>
                                        </svg>
                                    </div>
                                </router-link>

                            </li>


                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1" v-if="!$Helper.getIntGatewayStatus('int_gateway')">

                                <router-link :to="{name: 'billing-details'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 429.3 429.3"
                                            style="enable-background:new 0 0 429.3 429.3;" xml:space="preserve" width="60%">
                                            <g>
                                                <g>
                                                    <path d="M336.45,23.3c-1.8,2.1-4.4,3.3-7.2,3.3s-5.5-1.2-7.4-3.3L300.55,0l-21.3,23.2c-0.2,0.2-0.4,0.4-0.6,0.6    c-4,3.7-10.4,3.5-14.1-0.6L243.25,0l-21.3,23.2c-0.2,0.2-0.4,0.4-0.6,0.6c-4,3.7-10.4,3.5-14.1-0.6L185.95,0l-21.3,23.2    c-0.2,0.2-0.4,0.4-0.6,0.6c-4,3.7-10.4,3.5-14.1-0.6L128.65,0l-21.3,23.3c-1.9,2.1-4.6,3.3-7.4,3.3s-5.4-1.2-7.2-3.3L81.65,11    v407.4l11.1-12.4c1.8-2.1,4.4-3.3,7.2-3.3c2.8,0,5.5,1.2,7.4,3.3l21.3,23.3l21.4-23.2c0.2-0.2,0.4-0.4,0.6-0.6    c4-3.7,10.4-3.5,14.1,0.6l21.3,23.2l21.3-23.2c0.2-0.2,0.4-0.4,0.6-0.6c4-3.7,10.4-3.5,14.1,0.6l21.3,23.2l21.3-23.2    c0.2-0.2,0.4-0.4,0.6-0.6c4-3.7,10.4-3.5,14.1,0.6l21.3,23.2l21.3-23.3c1.9-2.1,4.6-3.3,7.4-3.3s5.4,1.2,7.2,3.3l11.1,12.3V10.9    L336.45,23.3z M204.55,80.3V74c0-5.5,4.5-10,10-10s10,4.5,10,10v6.3c13.5,4.3,22.6,16.9,22.6,31c0,5.5-4.5,10-10,10s-10-4.5-10-10    c0-0.1,0-0.1,0-0.1c0-7-5.7-12.7-12.6-12.6c-6.9,0.1-12.5,5.6-12.5,12.6s5.6,12.6,12.6,12.6c14.1,0,26.7,9.1,31,22.6    c5.5,17.1-3.9,35.5-21,41v6.4c0,5.5-4.5,10-10,10s-10-4.5-10-10v-6.4c-13.5-4.4-22.6-16.9-22.6-31c0-5.5,4.5-10,10-10    s10,4.5,10,10c0,7,5.7,12.6,12.6,12.6c0.1,0,0.1,0,0.1,0.1c7-0.1,12.6-5.7,12.5-12.7c-0.1-7-5.8-12.6-12.7-12.5    c-14.1,0-26.7-9.2-31-22.6C178.05,104.2,187.45,85.8,204.55,80.3z M170.85,258.7h87.6c5.5,0,10,4.5,10,10s-4.5,10-10,10h-87.6    c-5.5,0-10-4.5-10-10S165.35,258.7,170.85,258.7z M300.15,361.7h-171c-5.5,0-10-4.5-10-10s4.5-10,10-10h171c5.5,0,10,4.5,10,10    S305.65,361.7,300.15,361.7z M300.15,319.7h-171c-5.5,0-10-4.5-10-10s4.5-10,10-10h171c5.5,0,10,4.5,10,10    S305.65,319.7,300.15,319.7z"
                                                        fill="#FFFFFF" />
                                                </g>
                                            </g>
                                            <g>
                                                <g>
                                                    <path d="M347.65,418.3L347.65,418.3L347.65,418.3z" fill="#FFFFFF" />
                                                </g>
                                            </g>
                                        </svg>
                                    </div>
                                </router-link>

                            </li>



                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1" v-if="!$Helper.getIntGatewayStatus('int_gateway')">

                                <router-link :to="{name: 'change-plan'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 512 512"
                                            style="enable-background:new 0 0 512 512;" xml:space="preserve" width="60%">
                                            <g>
                                                <g>
                                                    <path d="M336,32h-34.752C294.656,13.376,276.864,0,256,0s-38.656,13.376-45.28,32H176c-8.832,0-16,7.168-16,16v64    c0,8.832,7.168,16,16,16h160c8.832,0,16-7.168,16-16V48C352,39.168,344.832,32,336,32z"
                                                        fill="#FFFFFF" />
                                                </g>
                                            </g>
                                            <g>
                                                <g>
                                                    <path d="M416,64h-32v48c0,26.464-21.536,48-48,48H176c-26.464,0-48-21.536-48-48V64H96c-17.632,0-32,14.368-32,32v384    c0,17.952,14.048,32,32,32h320c17.952,0,32-14.048,32-32V96C448,78.048,433.952,64,416,64z M251.328,347.328l-64,64    C184.192,414.432,180.096,416,176,416s-8.192-1.568-11.328-4.672l-32-32c-6.24-6.24-6.24-16.384,0-22.624s16.384-6.24,22.624,0    L176,377.376l52.672-52.672c6.24-6.24,16.384-6.24,22.624,0S257.568,341.056,251.328,347.328z M251.328,219.328l-64,64    C184.192,286.432,180.096,288,176,288s-8.192-1.568-11.328-4.672l-32-32c-6.24-6.24-6.24-16.384,0-22.624s16.384-6.24,22.624,0    L176,249.376l52.672-52.672c6.24-6.24,16.384-6.24,22.624,0C257.536,202.944,257.568,213.056,251.328,219.328z M368,384h-64    c-8.832,0-16-7.168-16-16c0-8.832,7.168-16,16-16h64c8.832,0,16,7.168,16,16C384,376.832,376.832,384,368,384z M368,256h-64    c-8.832,0-16-7.168-16-16c0-8.832,7.168-16,16-16h64c8.832,0,16,7.168,16,16C384,248.832,376.832,256,368,256z"
                                                        fill="#FFFFFF" />
                                                </g>
                                            </g>
                                        </svg>
                                    </div>
                                </router-link>

                            </li>


                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1">

                                <router-link :to="{name: 'language'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 512 512"
                                            style="enable-background:new 0 0 512 512;" xml:space="preserve" width="60%">
                                            <g>
                                                <g>
                                                    <polygon points="138.71,137 132.29,137 120.293,197 150.707,197   " fill="#FFFFFF" />
                                                </g>
                                            </g>
                                            <g>
                                                <g>
                                                    <path d="M381.374,257c6.477,17.399,15.092,31.483,24.626,43.467c9.534-11.984,19.149-26.069,25.626-43.467H381.374z" fill="#FFFFFF"
                                                    />
                                                </g>
                                            </g>
                                            <g>
                                                <g>
                                                    <path d="M467,91H280.717l38.842,311.679c0.687,12.748-2.798,24.75-11.118,34.146L242.663,512H467c24.814,0,45-20.186,45-45V137    C512,112.186,491.814,91,467,91z M467,257h-4.006c-8.535,27.383-22.07,48.81-36.136,65.702    c11.019,10.074,22.802,18.338,34.517,27.594c6.46,5.171,7.515,14.604,2.329,21.079c-5.162,6.465-14.632,7.513-21.079,2.329    c-12.729-10.047-24.677-18.457-36.625-29.421c-11.948,10.964-22.896,19.374-35.625,29.421c-6.447,5.184-15.917,4.136-21.079-2.329    c-5.186-6.475-4.131-15.908,2.329-21.079c11.715-9.256,22.498-17.52,33.517-27.594c-14.066-16.891-26.602-38.318-35.136-65.702    H346c-8.291,0-15-6.709-15-15s6.709-15,15-15h45v-15c0-8.291,6.709-15,15-15c8.291,0,15,6.709,15,15v15h46c8.291,0,15,6.709,15,15    S475.291,257,467,257z"
                                                        fill="#FFFFFF" />
                                                </g>
                                            </g>
                                            <g>
                                                <g>
                                                    <path d="M244.164,39.419C241.366,16.948,222.162,0,199.516,0H45C20.186,0,0,20.186,0,45v332c0,24.814,20.186,45,45,45    c89.67,0,154.177,0,236.551,0c4.376-5.002,8.044-8.134,8.199-14.663C289.788,405.7,244.367,41.043,244.164,39.419z     M183.944,286.707c-7.954,1.637-16.011-3.527-17.651-11.763L156.706,227h-42.411l-9.587,47.944    c-1.611,8.115-9.434,13.447-17.651,11.763c-8.115-1.626-13.389-9.521-11.763-17.651l29.999-150    C106.699,112.054,112.852,107,120,107h31c7.148,0,13.301,5.054,14.707,12.056l30,150    C197.333,277.186,192.06,285.081,183.944,286.707z"
                                                        fill="#FFFFFF" />
                                                </g>
                                            </g>
                                            <g>
                                                <g>
                                                    <path d="M175.261,452l2.574,20.581c1.716,13.783,10.874,27.838,25.938,34.856c28.428-31.294,11.229-12.362,50.359-55.437H175.261z    "
                                                        fill="#FFFFFF" />
                                                </g>
                                            </g>
                                        </svg>
                                    </div>
                                </router-link>

                            </li>


                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1">

                                <router-link :to="{name: 'adjust-subtitles'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 426.667 426.667"
                                            style="enable-background:new 0 0 426.667 426.667;" xml:space="preserve" width="60%">
                                            <g>
                                                <g>
                                                    <path d="M384,42.667H42.667C19.2,42.667,0,61.867,0,85.333v256C0,364.8,19.2,384,42.667,384H384    c23.467,0,42.667-19.2,42.667-42.667v-256C426.667,61.867,407.467,42.667,384,42.667z M42.667,213.333H128V256H42.667V213.333z     M256,341.333H42.667v-42.667H256V341.333z M384,341.333h-85.333v-42.667H384V341.333z M384,256H170.667v-42.667H384V256z"
                                                        fill="#FFFFFF" />
                                                </g>
                                            </g>
                                        </svg>
                                    </div>
                                </router-link>

                            </li>


                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1">

                                <router-link :to="{name: 'viewing-history'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="60%"
                                            viewBox="0 0 503.379 503.379" style="enable-background:new 0 0 503.379 503.379;"
                                            xml:space="preserve">
                                            <g>
                                                <path d="M458.091,128.116v326.842c0,26.698-21.723,48.421-48.422,48.421h-220.92c-26.699,0-48.421-21.723-48.421-48.421V242.439   c6.907,1.149,13.953,1.894,21.184,1.894c5.128,0,10.161-0.381,15.132-0.969v211.594c0,6.673,5.429,12.104,12.105,12.104h220.92   c6.674,0,12.105-5.432,12.105-12.104V128.116c0-6.676-5.432-12.105-12.105-12.105H289.835c0-12.625-1.897-24.793-5.297-36.315   h125.131C436.368,79.695,458.091,101.417,458.091,128.116z M159.49,228.401c-62.973,0-114.202-51.229-114.202-114.199   C45.289,51.229,96.517,0,159.49,0c62.971,0,114.202,51.229,114.202,114.202C273.692,177.172,222.461,228.401,159.49,228.401z    M159.49,204.19c49.618,0,89.989-40.364,89.989-89.988c0-49.627-40.365-89.991-89.989-89.991   c-49.626,0-89.991,40.364-89.991,89.991C69.499,163.826,109.87,204.19,159.49,204.19z M227.981,126.308   c6.682,0,12.105-5.423,12.105-12.105s-5.423-12.105-12.105-12.105h-56.386v-47.52c0-6.682-5.423-12.105-12.105-12.105   s-12.105,5.423-12.105,12.105v59.625c0,6.682,5.423,12.105,12.105,12.105H227.981z M367.697,224.456h-131.14   c-6.682,0-12.105,5.423-12.105,12.105c0,6.683,5.423,12.105,12.105,12.105h131.14c6.685,0,12.105-5.423,12.105-12.105   C379.803,229.879,374.382,224.456,367.697,224.456z M367.91,297.885h-131.14c-6.682,0-12.105,5.42-12.105,12.105   s5.423,12.105,12.105,12.105h131.14c6.685,0,12.104-5.42,12.104-12.105S374.601,297.885,367.91,297.885z M367.91,374.353h-131.14   c-6.682,0-12.105,5.426-12.105,12.105c0,6.685,5.423,12.104,12.105,12.104h131.14c6.685,0,12.104-5.42,12.104-12.104   C380.015,379.778,374.601,374.353,367.91,374.353z"
                                                    fill="#FFFFFF" />
                                            </g>
                                        </svg>
                                    </div>
                                </router-link>

                            </li>



                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1">

                                <router-link :to="{name: 'support-inbox'}">
                                    <div class="icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 478.291 478.291"
                                            style="enable-background:new 0 0 478.291 478.291;" xml:space="preserve" width="60%">
                                            <g>
                                                <path d="M477.204,356.772c-6.569-19.342-19.504-75.348-83.626-88.898l8.805-2.33c20.779-5.505,35.284-24.357,35.284-45.859v-8.805   c3.184-1.646,5.451-4.566,6.351-8.121c17.316-0.358,31.276-14.442,31.276-31.844c0-17.4-13.961-31.485-31.276-31.842   c-0.87-3.386-2.966-6.149-5.932-7.835c1.056-12.594-1.569-29.436-8.837-45.485c-3.51-7.277-7.843-15.056-13.946-22.192   c-51.618-65.806-167.127-45.649-186.461,42.985c-0.032,0.132-0.032,0.24-0.062,0.364c5.466,4.713,10.419,9.521,14.209,14.38   c0.172,0.202,0.296,0.404,0.466,0.606c27.922-95.483,163.711-90.7,180.577,10.499c-2.874,2.33-4.815,5.738-4.815,9.721v57.613   c0,3.821,1.786,7.145,4.457,9.473c0.404,0.334,0.854,0.576,1.289,0.862v9.621c0,34.492-37.457,36.658-70.845,45.502   c-8.277-8.939-22.891-3.052-22.891,8.921c0,15.102,21.587,18.566,25.779,3.456c16.446-4.357,11.958-3.168,22.223-5.885   c-2.951,1.994-5.995,3.781-9.115,5.404c-2.982,25.553-37.225,31.641-48.764,8.525c-10.885-1.536-21.198-5.373-30.717-10.995   c-5.87,5.219-13.014,9.031-20.887,10.871c-0.186,0.242-0.372,0.474-0.574,0.708c0,15.878-4.597,29.459-14.21,41.347   c21.587,13.075,39.119,32.316,50.036,55.975h153.042C471.925,383.515,481.646,369.864,477.204,356.772z"
                                                    fill="#FFFFFF" />
                                                <path d="M322.718,260.093c4.628-7.151,12.625-11.919,21.741-11.919c5.994,0,11.445,2.12,15.824,5.537   c26.431-14.552,45.019-49.174,45.019-89.605c0-53.554-32.596-96.959-72.818-96.959c-36.648,0-66.9,36.13-71.962,83.106   c2.842,6.779,5.202,13.79,6.801,21.058c1.74,8.231,2.128,13.41,2.47,21.183c21.12,4.969,37.006,24.077,37.006,46.487   c0,5.086-0.916,9.955-2.422,14.574C310.139,256.771,316.305,258.945,322.718,260.093z"
                                                    fill="#FFFFFF" />
                                                <path d="M235.348,343.573c-10.979,5.807-15.032,5.869-57.008,16.996c-12.502,12.377-33.388,9.131-41.387-6.895   c-16.026-2.276-30.903-9.309-43.653-20.034c-38.808,5.351-71.964,32.022-84.822,69.899c-6.009,17.68-12.967,28.829-4.658,40.4   c10.001,13.992,9.301,8.587,271.842,8.587c14.07,0,23.977-13.891,19.474-27.169C287.388,402.538,278.801,365.291,235.348,343.573z"
                                                    fill="#FFFFFF" />
                                                <path d="M138.321,328.151c5.979-9.217,17.144-14.248,29.071-10.731l22.549-5.979c33.932-31.819,28.993-71.746,28.993-101.368   c-17.036-97.051-124.158-99.66-141.66,0c0,159.022,0.016-114.747,0.016,44.275C84.108,293.055,108.287,322.77,138.321,328.151z"
                                                    fill="#FFFFFF" />
                                                <path d="M36.619,270.824c1.382,5.499,6.133,9.661,12.067,9.661c7.019,0,12.702-5.685,12.702-12.688v-57.613   c0-3.992-1.958-7.401-4.829-9.729c3.184-19.832,13.821-39.461,27.053-52.475c19.426-20.684,51.946-32.626,88.998-23.619   c14.256,4.644,28.295,11.127,39.989,23.619c13.013,12.766,23.589,31.922,27.037,52.482c-7.501,6.081-4.815,11.329-4.815,67.336   c0,4.379,2.361,8.061,5.747,10.335v9.629c0,33.356-32.908,35.438-70.83,45.493c-8.277-8.937-22.907-3.052-22.907,8.923   c0,15.102,21.601,18.572,25.795,3.454c39.259-10.397,80.645-14.325,80.645-57.87v-8.813c3.184-1.646,5.451-4.566,6.335-8.129   c17.348-0.35,31.292-14.442,31.292-31.836c0-17.392-13.945-31.478-31.292-31.835c-0.854-3.385-2.95-6.159-5.916-7.851   c0.652-7.633-0.296-16.996-1.926-24.683c-1.398-6.337-3.572-13.41-6.895-20.795c-3.525-7.275-7.859-15.055-13.962-22.184   c-5.776-7.391-13.231-14.132-21.648-20.064c-73.346-50.82-174.628,9.295-166.755,87.742c-2.951,1.692-5.031,4.457-5.885,7.827   c-17.362,0.34-31.324,14.434-31.324,31.842S19.257,270.492,36.619,270.824z"
                                                    fill="#FFFFFF" />
                                            </g>
                                        </svg>

                                    </div>
                                </router-link>

                            </li>

                            <li class="mt-md-4 mt-lg-4 mt-xl-4 m-xl-1">
                                <div class="icon" @click="LOGOUT">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px"
                                        viewBox="0 0 330 330" style="enable-background:new 0 0 330 330;" xml:space="preserve"
                                        width="60%">
                                        <g id="XMLID_2_">
                                            <path id="XMLID_4_" d="M51.213,180h173.785c8.284,0,15-6.716,15-15s-6.716-15-15-15H51.213l19.394-19.393   c5.858-5.857,5.858-15.355,0-21.213c-5.856-5.858-15.354-5.858-21.213,0L4.397,154.391c-0.348,0.347-0.676,0.71-0.988,1.09   c-0.076,0.093-0.141,0.193-0.215,0.288c-0.229,0.291-0.454,0.583-0.66,0.891c-0.06,0.09-0.109,0.185-0.168,0.276   c-0.206,0.322-0.408,0.647-0.59,0.986c-0.035,0.067-0.064,0.138-0.099,0.205c-0.189,0.367-0.371,0.739-0.53,1.123   c-0.02,0.047-0.034,0.097-0.053,0.145c-0.163,0.404-0.314,0.813-0.442,1.234c-0.017,0.053-0.026,0.108-0.041,0.162   c-0.121,0.413-0.232,0.83-0.317,1.257c-0.025,0.127-0.036,0.258-0.059,0.386c-0.062,0.354-0.124,0.708-0.159,1.069   C0.025,163.998,0,164.498,0,165s0.025,1.002,0.076,1.498c0.035,0.366,0.099,0.723,0.16,1.08c0.022,0.124,0.033,0.251,0.058,0.374   c0.086,0.431,0.196,0.852,0.318,1.269c0.015,0.049,0.024,0.101,0.039,0.15c0.129,0.423,0.28,0.836,0.445,1.244   c0.018,0.044,0.031,0.091,0.05,0.135c0.16,0.387,0.343,0.761,0.534,1.13c0.033,0.065,0.061,0.133,0.095,0.198   c0.184,0.341,0.387,0.669,0.596,0.994c0.056,0.088,0.104,0.181,0.162,0.267c0.207,0.309,0.434,0.603,0.662,0.895   c0.073,0.094,0.138,0.193,0.213,0.285c0.313,0.379,0.641,0.743,0.988,1.09l44.997,44.997C52.322,223.536,56.161,225,60,225   s7.678-1.464,10.606-4.394c5.858-5.858,5.858-15.355,0-21.213L51.213,180z"
                                                fill="#FFFFFF" />
                                            <path id="XMLID_5_" d="M207.299,42.299c-40.944,0-79.038,20.312-101.903,54.333c-4.62,6.875-2.792,16.195,4.083,20.816   c6.876,4.62,16.195,2.794,20.817-4.083c17.281-25.715,46.067-41.067,77.003-41.067C258.414,72.299,300,113.884,300,165   s-41.586,92.701-92.701,92.701c-30.845,0-59.584-15.283-76.878-40.881c-4.639-6.865-13.961-8.669-20.827-4.032   c-6.864,4.638-8.67,13.962-4.032,20.826c22.881,33.868,60.913,54.087,101.737,54.087C274.956,287.701,330,232.658,330,165   S274.956,42.299,207.299,42.299z"
                                                fill="#FFFFFF" />
                                        </g>
                                    </svg>
                                </div>

                            </li>



                        </ul>


                    </div>
                </div>
            </div>
        </div>

        <div class="col-xl-8 offset-xl-2 nav-md m-5 hidden-sm-down">

            <div class="nav-background" :class="{'nav-background-active': showNavBackground}"></div>


            <nav class="navbar navbar-toggleable-sm navbar-inverse bg-inverse fixed-top">
                <button class="navbar-toggler navbar-toggler-left" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
                    aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand hidden-sm-down" v-if="
                   $route.name === 'profile' ||
                   $route.name === 'security' ||
                   $route.name === 'payment-update' ||
                   $route.name === 'billing-details' ||
                   $route.name === 'change-plan' ||
                   $route.name === 'language' ||
                   $route.name === 'adjust-subtitles' ||
                   $route.name === 'viewing-history' ||
                   $route.name === 'support-inbox' ||
                   $route.name === 'support-request'
                       ? true : false" href="/app">
                    <img src="/images/logo-beta-red.png" alt="logo" width="100%" style="height: 40px; width: 80px">
                </a>
                <a class="navbar-brand hidden-sm-down" v-if="
                   $route.name === 'profile' ||
                   $route.name === 'security' ||
                   $route.name === 'payment-update' ||
                   $route.name === 'billing-details' ||
                   $route.name === 'change-plan' ||
                   $route.name === 'language' ||
                   $route.name === 'adjust-subtitles' ||
                   $route.name === 'viewing-history' ||
                   $route.name === 'support-inbox' ||
                   $route.name === 'support-request'
                       ? false: true" style="cursor:default;">
                    <img src="/images/logo-beta-red.png" alt="logo" width="100%" style="height: 40px; width: 80px">
                </a>

                <div class="offset-xl-1 collapse navbar-collapse " id="navbarTogglerDemo02">
                    <ul class="navbar-nav mr-auto mt-2 mt-md-0">
                        <li class="nav-item">
                            <router-link class="nav-link mb-0 pt-3" :to="{name: 'discover'}">{{$t('home.home')}}</router-link>
                        </li>
                        <li class="nav-item">
                            <router-link class="nav-link mb-0 pt-3" :to="{name: 'movies'}">{{$t('home.movies')}}</router-link>
                        </li>
                        <li class="nav-item">
                            <router-link class="nav-link mb-0 pt-3" :to="{name: 'series'}">{{$t('home.series')}}</router-link>
                        </li>
                        <li class="nav-item">
                            <router-link class="nav-link mb-0 pt-3" :to="{name: 'kids'}">{{$t('home.kids')}}</router-link>
                        </li>
                        <li class="nav-item">
                            <router-link class="nav-link mb-0 pt-3" :to="{name: 'channels'}">{{$t('home.tv')}} </router-link>
                        </li>
                        <!--<li class="nav-item"> -->
                            <!--<a href="http://xaansa.com" class="nav-link mb-0 pt-3">{{$t('home.media')}}</a>-->
                        <!--</li>-->

                        <li class="nav-item" v-if="collections.length > 0">

                            <div class="dropdown">

                                <a class="nav-link  mb-0 pt-3" id="dropdownCollection" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{$t('home.collection')}}</a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownCollection">
                                    <router-link class="dropdown-item " v-for="(item, index) in collections" :key="index" :to="{name: 'collection', params:{id:item.id}}">{{ item.name }}</router-link>
                                </div>
                            </div>

                        </li>

                    </ul>
                    <ul class="navbar-nav mr-4">
                        <li class="nav-link">
                            <button data-toggle="modal" data-target="#content-request-modal" class="btn d-flex justify-content-center align-items-center py-0 mr-2" style="height:28px; border-radius:3px!important; background-color:#fd0000; color:#ffffff; border:1px solid #991218">Upload</button>
                        </li>
                    </ul>
                </div>
 

                <div class="right-side">
                    <div class="register">
                        <div class="sec1" v-if="$auth.isAuthenticated() !== 'active'">

                            <router-link class="login" :to="{name: 'login'}">{{$t('register.login')}}</router-link>
                            <span id="line">|</span>
                            <router-link class="singup" :to="{name: 'plan'}" v-if="!$Helper.getIntGatewayStatus('int_gateway')">{{$t('register.signup')}}</router-link>
                            <router-link class="singup" :to="{name: 'signup-non-payment'}" v-if="$Helper.getIntGatewayStatus('int_gateway')">{{$t('register.signup')}}</router-link>
                        </div>
                        <div class="sec2" v-if="$auth.isAuthenticated() === 'active'">

                            <router-link class="username" :to="{name: 'profile'}">
                                {{$auth.getUserInfo("username") | truncate(5)}}
                            </router-link>
                        </div>

                    </div>

                    <div class="search" @click="SHOW_SEARCH_PAGE">
                        <div class="search-icon" v-if="!showSearchPageEvent">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                viewBox="0 0 56.966 56.966" style="enable-background:new 0 0 56.966 56.966;" xml:space="preserve"
                                width="100%" class="sm-search-svg">
                                <path d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z"
                                    fill="#FFFFFF" />
                            </svg>
                        </div>

                      <div class="search-icon" v-if="showSearchPageEvent">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 22.135 22.135" style="enable-background:new 0 0 22.135 22.135;" xml:space="preserve" width="100%" class="sm-search-svg">
                            <g>
                                <g>
                                    <path d="M0,18.723L14.879,3.089c0,0,1.949-2.114,6.341-1.597c0,0,0.753,0.599,0.915,1.755L7.179,19.24    c0,0-1.236,1.558-6.461,1.438C0.717,20.678,0.2,20.438,0,18.723z" fill="#FFFFFF"/>
                                    <path d="M0,3.412l14.879,15.634c0,0,1.949,2.114,6.341,1.597c0,0,0.753-0.598,0.915-1.758L7.179,2.891    c0,0-1.236-1.556-6.461-1.436C0.717,1.456,0.2,1.696,0,3.412z" fill="#FFFFFF"/>
                                </g>
                            </g>
                            </svg>
                       </div>
                    </div>
                </div>
            </nav>
        </div>
    </div>


</template>

<style>
    .phone_nav-cont{
        position: absolute;
        top: 70;
        left: 0;
        width: 130px;
        background-color:#1495b4; 
        z-index: 100000;
    }
    .phone_nav-cont li{
        display: block;
        padding: 5px ;
        color: #ffffff;
    }
    .phone_nav-icon_container{
        display: inline-block;
        cursor: pointer;
    }
    .bar1, .bar2, .bar3 {
    width: 35px;
    height: 4px;
    background-color: #ffffff;
    margin: 6px 0;
    transition: 0.4s;
    border-radius: 4px;
    }
    .bar2{
        width: 28px;
    }

    .change .bar1 {
        -webkit-transform: rotate(-45deg) translate(-9px, 6px);
        transform: rotate(-45deg) translate(-9px, 6px);
    }

    .change .bar2 {opacity: 0;}

    .change .bar3 {
        -webkit-transform: rotate(45deg) translate(-8px, -8px);
        transform: rotate(45deg) translate(-8px, -8px);
    }
</style>

<script>
    import {
        mapState
    } from "vuex";

    export default {
        data() {
            return {
                phone_nav: false,
                show_sidebar: false,
                showNavBackground: false,
            }
        },

        computed: mapState({
            collections: state => state.collections.collections,
            showSearchPageEvent: state => state.event.show_search_page
        }),

        created() {
            function getDocHeight() {
             var D = document;
             return Math.max(
                D.body.scrollHeight, D.documentElement.scrollHeight,
                D.body.offsetHeight, D.documentElement.offsetHeight,
                D.body.clientHeight, D.documentElement.clientHeight
            )
        }

            function amountscrolled(){
                var winheight= window.innerHeight || (document.documentElement || document.body).clientHeight
                var docheight = getDocHeight()
                var scrollTop = window.pageYOffset || (document.documentElement || document.body.parentNode || document.body).scrollTop
                var trackLength = docheight - winheight
                var pctScrolled = Math.floor(scrollTop/trackLength * 100) // gets percentage scrolled (ie: 80 or NaN if tracklength == 0)
                return pctScrolled;
            }
            
            window.addEventListener("scroll", ()=> {
                
                if(amountscrolled() > 10) {
                    this.showNavBackground = true;
                }else {
                    this.showNavBackground = false;

                }

            }, false)

        },
        methods: {
            LOGOUT() {
                this.$store.dispatch("LOGOUT_AUTH");
            },

            SHOW_SEARCH_PAGE(){
                this.$store.commit("SHOW_SEARCH_PAGE");
            },

            showPhoneNav(){
                var cont = document.querySelector('.phone_nav-icon_container')
                cont.classList.toggle("change");
                this.phone_nav = !this.phone_nav;
            }
        },
        filters: {
            // Cut word
            truncate(string, value) {
                return string.substring(0, value);
            }
        }
    }
</script>